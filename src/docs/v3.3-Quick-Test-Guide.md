# Version 3.3 Quick Test Guide - Scene Template System

## 🎯 测试目标
验证Scene Template全局数据结构和持久化系统的完整功能。

## 📋 测试场景

### 1. 基础功能测试

#### 1.1 查看标准模板
**步骤：**
1. 打开应用
2. 导航到 "Fast Create Drop"
3. 查看 "Scene Template" 区域

**预期结果：**
- ✅ 显示Scene Template下拉选择框
- ✅ 下拉列表中包含4个标准模板
- ✅ 每个标准模板带有"Standard"标签
- ✅ 默认选中第一个模板

#### 1.2 查看模板详细信息
**步骤：**
1. 在Fast Create Drop页面
2. 从下拉列表选择不同的模板

**预期结果：**
- ✅ 下方显示模板详细信息卡片
- ✅ 显示 Stage & Intent
- ✅ 显示 Grid Layout配置
- ✅ 显示 Primary CTA标签

#### 1.3 导航到模板管理
**步骤：**
1. 如果没有Scene Templates，显示空状态
2. 点击 "Manage Templates" 按钮

**预期结果：**
- ✅ 跳转到 Settings 页面
- ✅ 自动切换到 "Drop Scene Templates" 标签

### 2. 自定义模板测试

#### 2.1 创建自定义模板
**步骤：**
1. 导航到 Settings → Drop Scene Templates
2. 点击 "Create Template" 按钮
3. 填写模板信息：
   - Name: "Test Custom Template"
   - Template Type: "simple-catalog"
   - Stage: "Testing Stage"
   - Intent: "Testing intent"
4. 配置其他选项
5. 保存

**预期结果：**
- ✅ 模板成功创建
- ✅ 出现在模板列表中
- ✅ 不带"Standard"标签（如果是自定义）

#### 2.2 在Fast Create Drop中验证
**步骤：**
1. 导航到 Fast Create Drop
2. 打开 Scene Template 下拉列表

**预期结果：**
- ✅ 新创建的模板出现在列表中
- ✅ 可以正常选择
- ✅ 显示正确的详细信息

#### 2.3 编辑自定义模板
**步骤：**
1. 返回 Settings → Drop Scene Templates
2. 找到刚创建的模板
3. 点击编辑按钮
4. 修改 Name 为 "Test Custom Template - Updated"
5. 保存

**预期结果：**
- ✅ 模板更新成功
- ✅ 返回 Fast Create Drop，模板名称已更新
- ✅ 无需刷新页面即可看到更新

### 3. 持久化测试

#### 3.1 数据持久化验证
**步骤：**
1. 创建至少2个自定义模板
2. 刷新浏览器页面
3. 导航到 Fast Create Drop

**预期结果：**
- ✅ 所有自定义模板仍然存在
- ✅ 标准模板正常显示
- ✅ 模板配置完整保留

#### 3.2 localStorage验证
**步骤：**
1. 打开浏览器开发者工具
2. 切换到 Application/Storage 标签
3. 查看 localStorage
4. 找到 `distribute_v3_scene_templates` 键

**预期结果：**
- ✅ 键存在
- ✅ 包含JSON格式的模板数据
- ✅ 数据结构正确

```javascript
// 在浏览器控制台执行
JSON.parse(localStorage.getItem('distribute_v3_scene_templates'))
```

### 4. 克隆模板测试

#### 4.1 克隆标准模板
**步骤：**
1. 导航到 Settings → Drop Scene Templates
2. 找到任意标准模板
3. 点击 "Duplicate" 按钮
4. 输入新名称
5. 确认

**预期结果：**
- ✅ 创建新的自定义模板
- ✅ 配置与原模板相同
- ✅ `isDefault: false`
- ✅ 新的ID和创建时间

### 5. 删除模板测试

#### 5.1 删除自定义模板
**步骤：**
1. 在 Settings → Drop Scene Templates
2. 选择一个自定义模板
3. 点击删除按钮
4. 确认删除

**预期结果：**
- ✅ 模板从列表中移除
- ✅ Fast Create Drop 中不再显示该模板
- ✅ localStorage 已更新

#### 5.2 标准模板不可删除
**步骤：**
1. 尝试删除标准模板

**预期结果：**
- ✅ 删除按钮被禁用或不显示
- ✅ 标准模板始终存在

### 6. 组件间数据同步测试

#### 6.1 多组件同步
**步骤：**
1. 在Settings中创建新模板
2. 不刷新页面，切换到 Fast Create Drop
3. 检查模板列表

**预期结果：**
- ✅ 新模板立即出现
- ✅ 无需刷新页面

#### 6.2 配置更新同步
**步骤：**
1. 在Fast Create Drop选择某个模板
2. 记住显示的配置信息
3. 切换到Settings修改该模板
4. 返回Fast Create Drop

**预期结果：**
- ✅ 配置信息已更新
- ✅ 详细信息卡片显示新配置

### 7. 空状态测试

#### 7.1 无模板时的显示
**步骤：**
1. 清空localStorage（或使用DevTools清除数据）
2. 导航到 Fast Create Drop

**预期结果：**
- ✅ 如果没有Scene Templates，显示空状态卡片
- ✅ 显示 "No scene templates available" 消息
- ✅ 显示 "Manage Templates" 按钮
- ✅ 点击按钮跳转到Settings

### 8. 类型安全测试

#### 8.1 开发者工具验证
**步骤：**
1. 打开代码编辑器
2. 尝试传递错误类型的数据

```typescript
// 应该显示类型错误
const template: SceneTemplate = {
  name: 'Test',
  // 缺少必需字段
};
```

**预期结果：**
- ✅ TypeScript编译错误
- ✅ IDE显示红色下划线

## 🧪 高级测试

### A1. 性能测试
**步骤：**
1. 创建20个自定义模板
2. 测试列表加载速度
3. 测试切换速度

**预期结果：**
- ✅ 列表渲染流畅
- ✅ 切换无明显延迟

### A2. 边界测试
**测试场景：**
- 模板名称超长
- 特殊字符在名称中
- 大量自定义字段

**预期结果：**
- ✅ 正确处理边界情况
- ✅ 不出现UI错位
- ✅ 数据正确保存

### A3. 错误处理测试
**测试场景：**
- localStorage已满
- localStorage被禁用
- 损坏的数据结构

**预期结果：**
- ✅ 降级到内存存储
- ✅ 显示友好错误提示
- ✅ 应用仍能运行

## ✅ 完整测试清单

### 基础功能
- [ ] 查看标准模板
- [ ] 查看模板详细信息
- [ ] 导航到模板管理

### 自定义模板
- [ ] 创建自定义模板
- [ ] 在Fast Create Drop验证
- [ ] 编辑自定义模板
- [ ] 实时同步验证

### 数据持久化
- [ ] 刷新页面后数据保留
- [ ] localStorage正确存储
- [ ] 数据结构完整

### 模板操作
- [ ] 克隆标准模板
- [ ] 克隆自定义模板
- [ ] 删除自定义模板
- [ ] 标准模板不可删除

### 组件同步
- [ ] 跨组件实时同步
- [ ] 配置更新实时反映

### 边界情况
- [ ] 空状态显示
- [ ] 性能测试
- [ ] 错误处理

## 🐛 已知问题报告模板

如果发现问题，请使用以下格式报告：

```markdown
**问题描述：**
[简要描述问题]

**重现步骤：**
1. [第一步]
2. [第二步]
3. [...]

**预期行为：**
[应该发生什么]

**实际行为：**
[实际发生什么]

**环境信息：**
- 浏览器：[Chrome/Firefox/Safari]
- 版本：[浏览器版本]
- 操作系统：[Windows/Mac/Linux]

**截图：**
[如果适用，添加截图]

**控制台错误：**
[如果有，复制控制台错误信息]
```

## 📊 测试结果记录

| 测试项 | 状态 | 备注 |
|--------|------|------|
| 基础功能 | ⬜️ | |
| 自定义模板 | ⬜️ | |
| 数据持久化 | ⬜️ | |
| 模板操作 | ⬜️ | |
| 组件同步 | ⬜️ | |
| 边界情况 | ⬜️ | |

状态标记：
- ✅ 通过
- ❌ 失败
- ⚠️ 部分通过
- ⬜️ 未测试

---

**测试版本**: 3.3.0  
**测试日期**: [填写日期]  
**测试人员**: [填写名称]
