# Scene Template å…¨å±€æ•°æ®ç»“æ„ä¸æŒä¹…åŒ–å®ç°æ€»ç»“

## ğŸ¯ å®ç°ç›®æ ‡

ä¸º 'settings -> Drop Scene Templates' ç‰ˆå—åˆ›å»ºå®Œæ•´çš„å…¨å±€æ•°æ®ç»“æ„è®¾è®¡å’ŒæŒä¹…åŒ–ç³»ç»Ÿï¼Œä½¿å…¶ä»–æ¨¡å—ï¼ˆç‰¹åˆ«æ˜¯ Fast Create Dropï¼‰èƒ½å¤Ÿæ–¹ä¾¿åœ°å¼•ç”¨å’Œä½¿ç”¨è¿™äº›æ¨¡æ¿é…ç½®ã€‚

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. ç±»å‹å®šä¹‰ç³»ç»Ÿ (`/types/sceneTemplate.ts`)

åˆ›å»ºäº†ç‹¬ç«‹çš„ç±»å‹å®šä¹‰æ–‡ä»¶ï¼ŒåŒ…å«ï¼š

- **æ ¸å¿ƒç±»å‹**
  - `SceneTemplate` - å®Œæ•´çš„Scene Templateæ•°æ®ç»“æ„
  - `TemplateType` - æ¨¡æ¿ç±»å‹æšä¸¾
  - `PricePresentation` - ä»·æ ¼å±•ç¤ºæ¨¡å¼
  - `GridDensity` - ç½‘æ ¼å¯†åº¦é…ç½®

- **è¾…åŠ©å‡½æ•°**
  - `createSceneTemplate()` - åˆ›å»ºæ–°æ¨¡æ¿å¹¶è‡ªåŠ¨å¡«å……é»˜è®¤å€¼
  - `validateSceneTemplate()` - éªŒè¯æ¨¡æ¿æ•°æ®å®Œæ•´æ€§
  - `cloneSceneTemplate()` - å…‹éš†ç°æœ‰æ¨¡æ¿

**ä¼˜åŠ¿ï¼š**
- âœ… ç±»å‹å®‰å…¨çš„æ•°æ®ç»“æ„
- âœ… å¯å¤ç”¨çš„è¾…åŠ©å‡½æ•°
- âœ… ç»Ÿä¸€çš„é»˜è®¤å€¼ç®¡ç†
- âœ… æ˜“äºæ‰©å±•æ–°å­—æ®µ

### 2. æ ‡å‡†æ¨¡æ¿åº“ (`/data/standardSceneTemplates.ts`)

åˆ›å»ºäº†4ä¸ªé¢„å®šä¹‰æ ‡å‡†æ¨¡æ¿ï¼š

1. **Simple Catalog** - ç®€å•ç›®å½•æµè§ˆï¼ˆå±•ä¼š/å‘ç°åœºæ™¯ï¼‰
2. **Catalog + Quote** - ç›®å½•+è¯¢ä»·ï¼ˆè·Ÿè¿›/æŠ¥ä»·åœºæ™¯ï¼‰
3. **Product Updates** - äº§å“æ›´æ–°ï¼ˆåŸ¹è‚²/æ¿€æ´»åœºæ™¯ï¼‰
4. **Page Embed** - é¡µé¢åµŒå…¥ï¼ˆè¥é”€/é›†æˆåœºæ™¯ï¼‰

æ¯ä¸ªæ¨¡æ¿åŒ…å«å®Œæ•´é…ç½®ï¼š
- å­—æ®µå¯è§æ€§è®¾ç½®
- ç½‘æ ¼å¸ƒå±€é…ç½®
- CTAæŒ‰é’®é…ç½®
- åŠŸèƒ½å¼€å…³
- åˆ†æä¿¡å·å®šä¹‰

**ç‰¹ç‚¹ï¼š**
- âœ… `isDefault: true` æ ‡è®°ä¸ºæ ‡å‡†æ¨¡æ¿
- âœ… ä¸å¯åˆ é™¤ï¼Œåªèƒ½å…‹éš†
- âœ… æä¾›æœ€ä½³å®è·µå‚è€ƒ
- âœ… åŒ…å«æŸ¥è¯¢è¾…åŠ©å‡½æ•°

### 3. å¢å¼ºçš„æŒä¹…åŒ–ç³»ç»Ÿ (`/lib/storage.ts`)

æ‰©å±•äº†Scene Templateçš„CRUDæ“ä½œï¼š

**æ–°å¢å‡½æ•°ï¼š**
```typescript
// åŸºç¡€æ“ä½œ
saveSceneTemplates()         // ä¿å­˜æ¨¡æ¿åˆ—è¡¨
loadSceneTemplates()         // åŠ è½½æ¨¡æ¿åˆ—è¡¨

// CRUDæ“ä½œ
addSceneTemplate()           // æ–°å¢æ¨¡æ¿
updateSceneTemplate()        // æ›´æ–°æ¨¡æ¿
deleteSceneTemplate()        // åˆ é™¤æ¨¡æ¿
getSceneTemplateById()       // æŒ‰IDæŸ¥è¯¢

// é«˜çº§æ“ä½œ
duplicateSceneTemplate()     // å¤åˆ¶æ¨¡æ¿
```

**æ”¹è¿›ï¼š**
- âœ… æ·»åŠ äº†è¯¦ç»†çš„æ—¥å¿—è¾“å‡º
- âœ… è‡ªåŠ¨æ—¶é—´æˆ³ç®¡ç†ï¼ˆcreatedAt, updatedAtï¼‰
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†
- âœ… ç±»å‹å®‰å…¨çš„API

### 4. Fast Create Drop é›†æˆ

æ›´æ–°äº† FastCreateDrop ç»„ä»¶ä»¥æ”¯æŒ Scene Templatesï¼š

**æ”¹åŠ¨ï¼š**
1. æ·»åŠ  `sceneTemplates` prop
2. ä»ä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©Scene Templateï¼ˆæ›¿ä»£ç¡¬ç¼–ç æ¨¡æ¿ï¼‰
3. æ˜¾ç¤ºæ¨¡æ¿è¯¦ç»†ä¿¡æ¯ï¼ˆStageã€Intentã€Grid Layoutã€CTAï¼‰
4. ç©ºçŠ¶æ€å¤„ç†ï¼Œå¼•å¯¼ç”¨æˆ·åˆ›å»ºæ¨¡æ¿
5. æ”¯æŒå¯¼èˆªåˆ°Settingsç®¡ç†æ¨¡æ¿

**ç”¨æˆ·ä½“éªŒï¼š**
- âœ… å®æ—¶åŒæ­¥Settingsä¸­é…ç½®çš„æ¨¡æ¿
- âœ… æ˜¾ç¤ºæ ‡å‡†/è‡ªå®šä¹‰æ¨¡æ¿æ ‡ç­¾
- âœ… æ˜¾ç¤ºæ¨¡æ¿å…³é”®é…ç½®ä¿¡æ¯
- âœ… ä¸€é”®è·³è½¬åˆ°æ¨¡æ¿ç®¡ç†

### 5. å…¨å±€æ•°æ®æµé›†æˆ (`/App.tsx`)

**æ›´æ–°ï¼š**
1. å°† `sceneTemplates` ä¼ é€’ç»™ FastCreateDrop
2. æ·»åŠ  `settings-drop-templates` å¯¼èˆªæ”¯æŒ
3. ç¡®ä¿æ•°æ®åœ¨localStorageä¸­è‡ªåŠ¨æŒä¹…åŒ–

**æ•°æ®æµï¼š**
```
localStorage
    â†•
storage.ts (load/save)
    â†•
App.tsx (useState + useEffect)
    â†•
FastCreateDrop / SettingsTab
```

### 6. æ–‡æ¡£ç³»ç»Ÿ

åˆ›å»ºäº†å®Œæ•´çš„æ–‡æ¡£ï¼š

1. **Scene-Template-System.md** - å®Œæ•´çš„ä½¿ç”¨æŒ‡å—
   - æ¶æ„è®¾è®¡è¯´æ˜
   - APIå‚è€ƒæ–‡æ¡£
   - ä½¿ç”¨ç¤ºä¾‹
   - æœ€ä½³å®è·µ
   - æ‰©å±•æŒ‡å—

2. **Scene-Template-Implementation-Summary.md** - æœ¬æ–‡æ¡£
   - å®ç°æ€»ç»“
   - æŠ€æœ¯ç»†èŠ‚
   - ä½¿ç”¨è¯´æ˜

## ğŸ”§ æŠ€æœ¯æ¶æ„

### æ•°æ®ç»“æ„è®¾è®¡

```typescript
SceneTemplate {
  // åŸºç¡€ä¿¡æ¯
  id: string
  name: string
  version: number
  template: TemplateType
  
  // ä¸šåŠ¡é…ç½®
  stage: string                    // ä¸šåŠ¡é˜¶æ®µ
  intent: string                   // ä½¿ç”¨æ„å›¾
  fieldVisibility: {...}           // å­—æ®µå¯è§æ€§
  pricePresentation: string        // ä»·æ ¼å±•ç¤ºæ–¹å¼
  gridConfig: {...}                // ç½‘æ ¼å¸ƒå±€
  primaryCTA: {...}                // ä¸»CTA
  features: {...}                  // åŠŸèƒ½å¼€å…³
  signals: string[]                // åˆ†æä¿¡å·
  
  // å…ƒæ•°æ®
  createdBy: string
  createdAt: string
  usageCount: number
  isDefault: boolean
}
```

### æŒä¹…åŒ–ç­–ç•¥

1. **æ ‡å‡†æ¨¡æ¿** - ä»£ç ä¸­å®šä¹‰ï¼Œä¸æŒä¹…åŒ–
2. **è‡ªå®šä¹‰æ¨¡æ¿** - localStorageæŒä¹…åŒ–
3. **è¿è¡Œæ—¶åˆå¹¶** - æ ‡å‡† + è‡ªå®šä¹‰

### ç±»å‹å®‰å…¨

- âœ… æ‰€æœ‰æ•°æ®ç»“æ„éƒ½æœ‰TypeScriptç±»å‹å®šä¹‰
- âœ… Propsä¼ é€’ä¸¥æ ¼ç±»å‹æ£€æŸ¥
- âœ… å­˜å‚¨æ“ä½œç±»å‹å®‰å…¨
- âœ… ç¼–è¯‘æ—¶é”™è¯¯æ£€æµ‹

## ğŸ“‹ ä½¿ç”¨è¯´æ˜

### åœ¨ Fast Create Drop ä¸­ä½¿ç”¨

1. **æŸ¥çœ‹å¯ç”¨æ¨¡æ¿**
   - æ‰“å¼€ Fast Create Drop é¡µé¢
   - åœ¨Scene TemplateåŒºåŸŸæŸ¥çœ‹ä¸‹æ‹‰åˆ—è¡¨
   - æ ‡å‡†æ¨¡æ¿å¸¦æœ‰"Standard"æ ‡ç­¾

2. **é€‰æ‹©æ¨¡æ¿**
   - ä»ä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©æ¨¡æ¿
   - æŸ¥çœ‹æ¨¡æ¿è¯¦ç»†é…ç½®ä¿¡æ¯
   - æ¨¡æ¿é…ç½®è‡ªåŠ¨åº”ç”¨åˆ°Drop

3. **ç®¡ç†æ¨¡æ¿**
   - ç‚¹å‡»"Manage Templates"æŒ‰é’®
   - è·³è½¬åˆ°Settings â†’ Drop Scene Templates
   - åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤è‡ªå®šä¹‰æ¨¡æ¿

### åœ¨ Settings ä¸­ç®¡ç†æ¨¡æ¿

1. **è®¿é—®æ¨¡æ¿è®¾ç½®**
   - å¯¼èˆªåˆ° Settings
   - åˆ‡æ¢åˆ°"Drop Scene Templates"æ ‡ç­¾

2. **åˆ›å»ºè‡ªå®šä¹‰æ¨¡æ¿**
   - ç‚¹å‡»"Create Template"æŒ‰é’®
   - é…ç½®æ‰€æœ‰é€‰é¡¹
   - ä¿å­˜åè‡ªåŠ¨å‡ºç°åœ¨Fast Create Drop

3. **ç¼–è¾‘æ¨¡æ¿**
   - ç‚¹å‡»æ¨¡æ¿å¡ç‰‡çš„ç¼–è¾‘æŒ‰é’®
   - ä¿®æ”¹é…ç½®
   - æ›´æ”¹å®æ—¶åŒæ­¥åˆ°æ‰€æœ‰å¼•ç”¨

4. **å…‹éš†æ ‡å‡†æ¨¡æ¿**
   - é€‰æ‹©æ ‡å‡†æ¨¡æ¿
   - ç‚¹å‡»"Duplicate"
   - åœ¨å‰¯æœ¬åŸºç¡€ä¸Šä¿®æ”¹

## ğŸ¨ è®¾è®¡ä¼˜åŒ–

### FastCreateDrop ä¸­çš„Scene Template UI

**ä¼˜åŒ–å‰ï¼š**
- ç¡¬ç¼–ç çš„4ä¸ªæ¨¡æ¿é€‰é¡¹
- æ— æ³•åŠ¨æ€æ›´æ–°
- æ— æ³•æ˜¾ç¤ºè¯¦ç»†é…ç½®

**ä¼˜åŒ–åï¼š**
- ä¸‹æ‹‰é€‰æ‹©ï¼ŒèŠ‚çœç©ºé—´
- å®æ—¶åŒæ­¥Settingsé…ç½®
- æ˜¾ç¤ºæ¨¡æ¿è¯¦ç»†ä¿¡æ¯å¡ç‰‡
- ç©ºçŠ¶æ€å¼•å¯¼ç”¨æˆ·åˆ›å»º
- æ ‡å‡†/è‡ªå®šä¹‰æ¨¡æ¿åŒºåˆ†
- ä¸€é”®è·³è½¬åˆ°æ¨¡æ¿ç®¡ç†

### ä¿¡æ¯å±‚æ¬¡

```
Scene Template (Section Header)
    â†“
Select Scene Template (Label + Dropdown)
    â†“
Template Details Card
    â”œâ”€ Stage & Intent
    â”œâ”€ Grid Layout
    â””â”€ Primary CTA
```

## ğŸ”„ æ•°æ®åŒæ­¥æµç¨‹

### åˆ›å»ºæµç¨‹
```
1. Useråœ¨Settingsåˆ›å»ºæ¨¡æ¿
   â†“
2. è°ƒç”¨storage.addSceneTemplate()
   â†“
3. localStorageæ›´æ–°
   â†“
4. App.tsx stateæ›´æ–°
   â†“
5. FastCreateDropè‡ªåŠ¨è·å¾—æ–°æ¨¡æ¿
```

### æ›´æ–°æµç¨‹
```
1. Useråœ¨Settingsç¼–è¾‘æ¨¡æ¿
   â†“
2. è°ƒç”¨storage.updateSceneTemplate()
   â†“
3. localStorageæ›´æ–°
   â†“
4. App.tsx useEffectè§¦å‘
   â†“
5. æ‰€æœ‰ç»„ä»¶è·å¾—æœ€æ–°æ•°æ®
```

## ğŸš€ æ‰©å±•èƒ½åŠ›

### æ·»åŠ æ–°çš„æ¨¡æ¿ç±»å‹
1. æ›´æ–° `TemplateType` ç±»å‹å®šä¹‰
2. åœ¨ `standardSceneTemplates.ts` æ·»åŠ æ ‡å‡†æ¨¡æ¿
3. æ›´æ–°ç›¸å…³ç»„ä»¶æ”¯æŒæ–°ç±»å‹

### æ·»åŠ æ–°çš„é…ç½®å­—æ®µ
1. æ›´æ–° `SceneTemplate` æ¥å£
2. æ›´æ–° `createSceneTemplate()` é»˜è®¤å€¼
3. æ›´æ–°ç°æœ‰æ¨¡æ¿æ•°æ®
4. æ›´æ–°UIæ˜¾ç¤ºé€»è¾‘

### ä¸å…¶ä»–ç³»ç»Ÿé›†æˆ
```typescript
// åœ¨ä»»ä½•ç»„ä»¶ä¸­å¼•ç”¨Scene Templates
import { SceneTemplate } from '../types/sceneTemplate';

interface MyComponentProps {
  templates: SceneTemplate[];
}
```

## âœ¨ æœ€ä½³å®è·µ

### 1. æ€»æ˜¯ä½¿ç”¨ç±»å‹å®šä¹‰
```typescript
import { SceneTemplate } from '../types/sceneTemplate';
// ä¸è¦ä½¿ç”¨ any æˆ– ScenePreset
```

### 2. ä½¿ç”¨è¾…åŠ©å‡½æ•°åˆ›å»ºæ¨¡æ¿
```typescript
import { createSceneTemplate } from '../types/sceneTemplate';
const template = createSceneTemplate({
  name: 'My Template',
  template: 'simple-catalog'
});
```

### 3. é€šè¿‡storage.tsæ“ä½œæ•°æ®
```typescript
import * as storage from '../lib/storage';
storage.addSceneTemplate(template);
```

### 4. ä¸å¯å˜æ›´æ–°
```typescript
// âœ… æ­£ç¡®
const updated = { ...template, name: 'New Name' };

// âŒ é”™è¯¯
template.name = 'New Name';
```

## ğŸ“Š ç³»ç»ŸçŠ¶æ€

### å®Œæˆåº¦
- âœ… ç±»å‹å®šä¹‰ç³»ç»Ÿ
- âœ… æ ‡å‡†æ¨¡æ¿åº“
- âœ… æŒä¹…åŒ–å­˜å‚¨
- âœ… FastCreateDropé›†æˆ
- âœ… å…¨å±€æ•°æ®æµ
- âœ… æ–‡æ¡£ç³»ç»Ÿ

### æµ‹è¯•å»ºè®®

1. **åˆ›å»ºè‡ªå®šä¹‰æ¨¡æ¿**
   - è®¿é—®Settings â†’ Drop Scene Templates
   - åˆ›å»ºæ–°æ¨¡æ¿
   - éªŒè¯åœ¨FastCreateDropä¸­å¯è§

2. **ç¼–è¾‘æ¨¡æ¿**
   - ä¿®æ”¹ç°æœ‰æ¨¡æ¿é…ç½®
   - æ£€æŸ¥FastCreateDropå®æ—¶æ›´æ–°

3. **åˆ é™¤æ¨¡æ¿**
   - åˆ é™¤è‡ªå®šä¹‰æ¨¡æ¿
   - ç¡®è®¤ä»FastCreateDropåˆ—è¡¨ç§»é™¤

4. **åˆ·æ–°é¡µé¢**
   - åˆ·æ–°æµè§ˆå™¨
   - éªŒè¯æ‰€æœ‰æ•°æ®æŒä¹…åŒ–æˆåŠŸ

## ğŸ¯ æ€»ç»“

Scene Templateç³»ç»Ÿç°å·²å®Œå…¨å®ç°ï¼Œæä¾›ï¼š

1. **å®Œæ•´çš„ç±»å‹ç³»ç»Ÿ** - ç±»å‹å®‰å…¨ã€æ˜“äºç»´æŠ¤
2. **æ ‡å‡†æ¨¡æ¿åº“** - æœ€ä½³å®è·µå‚è€ƒ
3. **æŒä¹…åŒ–å­˜å‚¨** - è‡ªåŠ¨ä¿å­˜ã€è‡ªåŠ¨åŠ è½½
4. **å…¨å±€æ•°æ®å…±äº«** - æ‰€æœ‰ç»„ä»¶ç»Ÿä¸€æ•°æ®æº
5. **ä¼˜åŒ–çš„ç”¨æˆ·ä½“éªŒ** - ç®€æ´UIã€å®æ—¶åŒæ­¥
6. **å®Œå–„çš„æ–‡æ¡£** - ä½¿ç”¨æŒ‡å—ã€APIå‚è€ƒ

æ‰€æœ‰ç»„ä»¶ç°åœ¨å¯ä»¥é€šè¿‡ç»Ÿä¸€çš„æ¥å£è®¿é—®å’Œç®¡ç†Scene Templatesï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
